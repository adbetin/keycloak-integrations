import{r as t,h as e}from"./p-b2c9c8a2.js";const o={url:"http://localhost:8080/auth",realm:"imaginemos",clientId:"demo-microfrontend"},n={onLoad:"login-required",silentCheckSsoRedirectUri:window.location.origin+"/silent-check-sso.html"},i=class{constructor(e){t(this,e)}async connectedCallback(){var t,e;this.authenticated=await function(t,e){const i=Object.assign(Object.assign({},n),{token:t,refreshToken:e});console.log("keyCloakConfig",i);let r=new Keycloak(o);return r.init(i).then((t=>(console.log("result: ",t),console.log(t?"authenticated":"not authenticated"),!!t&&r))).catch((()=>!1))}(this.token,this.refreshToken),this.authenticated&&(this.weather=await(e=null===(t=this.authenticated)||void 0===t?void 0:t.token,fetch("https://localhost:5001/api/WeatherForecast",{headers:new Headers({Authorization:"bearer "+e})}).then((t=>t.json()))))}renderWeatherList(){if(this.weather)return this.weather.map((t=>e("div",null,e("p",null,e("b",null,t.summary),": ",t.temperatureC,"c (",t.temperatureF,"f)"))))}render(){return e("div",null,this.authenticated?"Hello, World! I'm authenticated":e("b",null," You are not authenticated "),this.renderWeatherList())}};i.style=":host{display:block}";export{i as demo_microfrontent_auth}